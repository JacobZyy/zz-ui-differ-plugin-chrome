---
trigger: model_decision
description:
globs: *.vue
---

# Vue 规则

## AI代码生成标识强制规范

- 所有由 AI 生成或修改的代码块，包括但不限于聊天、代码片段、代码示例、代码建议、推荐写法等等，都必须在代码前添加如下注释： // generated by ai
- 如果仅修改部分代码，需要在修改处加注释
- 如果是一个文件内多处生成代码块或多处修改代码，需要在每一处的前加注释。
- 连续的代码行，不要每行都加，在代码块前加注释，避免注释密度太大。
- 这条注释必须单独一行，不要和其他注释生成在一行内
- 该规则始终生效，适用于所有 AI 生成方式（chat、command+k、tab 补全、自动生成等），无论输出场景为何。

## 文件命名规范

### 组件文件命名

- 使用 PascalCase 命名组件文件
- 页面组件以 `Page` 结尾
- 基础组件以 `Base` 开头
- 单例组件以 `The` 开头
- 紧密耦合的组件以父组件名作为前缀

## 代码风格

### Props 定义

- 必须指定类型
- 必须指定默认值
- 使用 camelCase 命名
- 布尔类型的 prop 必须指定默认值

### 事件命名

- 使用 kebab-case 命名
- 以 `on` 开头
- 使用动词或动词+名词

### 样式规范

- 使用 scoped 样式
- 使用 BEM 命名规范
- 避免使用 !important
- 使用变量管理颜色和尺寸

### 模板

- 组件名使用 PascalCase
- 属性名使用 kebab-case
- 使用 v-for 时必须指定 key
- 避免 v-if 和 v-for 同时使用
- 避免在模板中使用复杂表达式
- 合理使用计算属性和方法

### JavaScript/TypeScript

- 使用 ES6+ 语法
- 使用 TypeScript 类型注解
- 使用 async/await 处理异步
- 使用解构赋值
- 使用箭头函数

### 注释规范

- 组件必须包含功能说明
- 复杂逻辑必须添加注释
- 使用 JSDoc 注释格式

#### 样式规范

- 使用 scoped 样式避免污染
- 合理使用 CSS Modules
- 优先使用package.json中对应的预处理器，如果不存在统一使用预处理器 Sass

## 性能优化

### 代码层面

- 合理使用 computed 和 watch
- 避免不必要的组件渲染
- 使用 v-show 代替 v-if（频繁切换）
- 使用 keep-alive 缓存组件

### 资源优化

- 图片资源压缩
- 使用懒加载
- 合理使用 CDN
- 代码分割

## 最佳实践

### 状态管理

- 使用 Vuex 管理全局状态
- 模块化管理状态
- 使用 mapState、mapGetters 等辅助函数

### 路由管理

- 路由懒加载
- 路由守卫合理使用
- 路由参数验证

### 错误处理

- 全局错误处理
- 组件错误边界
- 友好的错误提示
